<!DOCTYPE html>
<html lang="ja">
    <head>
      <!-- Google tag (gtag.js) -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-DWQJNG2M6L"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-DWQJNG2M6L');
      </script>
    <meta charset="utf-8">
    <title>トンツーのランダム生成と再生
    </title>
    <meta name="description" content="ディスクリプションを入力">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="js/jquery-3.6.3.min.js"></script>
    <script src="js/jscwlib.js"></script>
    <style>
      .body{
        overflow-x: hidden;
      }
  </style>
    </head>
    <body>
    <!----- main ----->
    <article>
    <div>トンツーのランダム生成と再生</div>
    <script>
      //console.log("速度"+document.getElementById("speeder"));
    </script>
    <!-- <button onclick = "window.location.reload();">
      ページ更新
      </button> -->
    <section>
      <div id="running">
      </div>
      <table border="1" id="tbl">
        <tr>
          <th>＼</th>
          <th>&#9312;</th>
          <th>&#9313;</th>
          <th>&#9314;</th>
          <th>&#9315;</th>
          <th>&#9316;</th>
          <th>&#9317;</th>
          <th>&#9318;</th>
          <th>&#9319;</th>
          <th>&#9320;</th>
          <th>&#9321;</th>
          <th>&#9322;</th>
          <th>&#9323;</th>
          <th>&#9324;</th>
          <th>&#9325;</th>
          <th>&#9326;</th>
          <th>&#9327;</th>
          <th>&#9328;</th>
          <th>&#9329;</th>
          <th>&#9330;</th>
          <th>&#9331;</th>
          <th>　</th>
          <th>　</th>
          <th>／</th>
        </tr>
      </table>
      <br>
    <textarea id="textarea3" class="test" cols="45px" rows="12px" name="content" required="required">ヌナヌナホレ\nイロハニホヘトチリヌルヲワカヨタレソツネ゛゛\nナラムウ井ノオクヤマケフコエテアサキユメ゛゛\nミシヱヒモセスン（ー┗？ゝ゛゜）１２３４゛゛\n５６７８９０イロハニホヘトチリヌルヲワカ゛゛\nヨタレソツネナラムウ井ノオクヤマケフコエ゛゛\nテアサキユメミシヱヒモセスン（ー┗？ゝ゛゛゛\n゜）１２３４５６７８９０イロハニホヘトチ゛゛\nリヌルヲワカヨタレソツネナラムウ井ノオク゛゛\nヤマケフコエテアサキユメミシヱヒモセスン゛゛\n（ー┗？ゝ゛゜）１２３４５６７８９０イロ</textarea>
<br>
    <!-- <button onclick = "rensyu()">
    書き取り練習
    </button> -->
    <label id="hunmoji" style="float:left;">０文字／分</label>
    <br>
    <div id="player"></div>
    <script>
    var m = new jscw({"wpm": 23,"ews":0.5,"eff":15});
    m.renderPlayer('player', m);
    </script>
    <hr>
    文の長さ<br>
    <input type="range" id="example" value="30" min="1" max="35" step="1" style="width:200px;margin-left:5px";><span id="current-value"></span>
    <hr><br><br><br><br>
    <br><br><hr>生成する文字を選択<br>
    <input type="checkbox" id="checkbox_all" checked="checked">全選択 / 全解除
      <hr>
    <div style="float:left">
        <p>ア<input type="checkbox" class="checkbox_list" name="" value="ア" checked="checked">&nbsp;&nbsp;
          イ<input type="checkbox" class="checkbox_list" name="" value="イ" checked="checked">&nbsp;&nbsp;
          ウ<input type="checkbox" class="checkbox_list" name="" value="ウ" checked="checked">&nbsp;&nbsp;
          エ<input type="checkbox" class="checkbox_list" name="" value="エ" checked="checked">&nbsp;&nbsp;
          オ<input type="checkbox" class="checkbox_list" name="" value="オ" checked="checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

          <p>カ<input type="checkbox" class="checkbox_list" name="" value="カ" checked="checked">&nbsp;&nbsp;
          キ<input type="checkbox" class="checkbox_list" name="" value="キ" checked="checked">&nbsp;&nbsp;
          ク<input type="checkbox" class="checkbox_list" name="" value="ク" checked="checked">&nbsp;&nbsp;
          ケ<input type="checkbox" class="checkbox_list" name="" value="ケ" checked="checked">&nbsp;&nbsp;
          コ<input type="checkbox" class="checkbox_list" name="" value="コ" checked="checked"></p>

          <p>サ<input type="checkbox" class="checkbox_list" name="" value="サ" checked="checked">&nbsp;&nbsp;
          シ<input type="checkbox" class="checkbox_list" name="" value="シ" checked="checked">&nbsp;&nbsp;
          ス<input type="checkbox" class="checkbox_list" name="" value="ス" checked="checked">&nbsp;&nbsp;
          セ<input type="checkbox" class="checkbox_list" name="" value="セ" checked="checked">&nbsp;&nbsp;
          ソ<input type="checkbox" class="checkbox_list" name="" value="ソ" checked="checked"></p>

          <p>タ<input type="checkbox" class="checkbox_list" name="" value="タ" checked="checked">&nbsp;&nbsp;
          チ<input type="checkbox" class="checkbox_list" name="" value="チ" checked="checked">&nbsp;&nbsp;
          ツ<input type="checkbox" class="checkbox_list" name="" value="ツ" checked="checked">&nbsp;&nbsp;
          テ<input type="checkbox" class="checkbox_list" name="" value="テ" checked="checked">&nbsp;&nbsp;
          ト<input type="checkbox" class="checkbox_list" name="" value="ト" checked="checked"></p>

          <p>ナ<input type="checkbox" class="checkbox_list" name="" value="ナ" checked="checked">&nbsp;&nbsp;
          ニ<input type="checkbox" class="checkbox_list" name="" value="ニ" checked="checked">&nbsp;&nbsp;
          ヌ<input type="checkbox" class="checkbox_list" name="" value="ヌ" checked="checked">&nbsp;&nbsp;
          ネ<input type="checkbox" class="checkbox_list" name="" value="ネ" checked="checked">&nbsp;&nbsp;
          ノ<input type="checkbox" class="checkbox_list" name="" value="ノ" checked="checked"></p>

          <p>ハ<input type="checkbox" class="checkbox_list" name="" value="ハ" checked="checked">&nbsp;&nbsp;
          ヒ<input type="checkbox" class="checkbox_list" name="" value="ヒ" checked="checked">&nbsp;&nbsp;
          フ<input type="checkbox" class="checkbox_list" name="" value="フ" checked="checked">&nbsp;&nbsp;
          ヘ<input type="checkbox" class="checkbox_list" name="" value="ヘ" checked="checked">&nbsp;&nbsp;
          ホ<input type="checkbox" class="checkbox_list" name="" value="ホ" checked="checked"></p>

          <p>マ<input type="checkbox" class="checkbox_list" name="" value="マ" checked="checked">&nbsp;&nbsp;
          ミ<input type="checkbox" class="checkbox_list" name="" value="ミ" checked="checked">&nbsp;&nbsp;
          ム<input type="checkbox" class="checkbox_list" name="" value="ム" checked="checked">&nbsp;&nbsp;
          メ<input type="checkbox" class="checkbox_list" name="" value="メ" checked="checked">&nbsp;&nbsp;
          モ<input type="checkbox" class="checkbox_list" name="" value="モ" checked="checked"></p>

          <p>ヤ<input type="checkbox" class="checkbox_list" name="" value="ヤ" checked="checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&thinsp;
          ユ<input type="checkbox" class="checkbox_list" name="" value="ユ" checked="checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&thinsp;
          ヨ<input type="checkbox" class="checkbox_list" name="" value="ヨ" checked="checked"></p>

          <p>ラ<input type="checkbox" class="checkbox_list" name="" value="ラ" checked="checked">&nbsp;&nbsp;
          リ<input type="checkbox" class="checkbox_list" name="" value="リ" checked="checked">&nbsp;&nbsp;
          ル<input type="checkbox" class="checkbox_list" name="" value="ル" checked="checked">&nbsp;&nbsp;
          レ<input type="checkbox" class="checkbox_list" name="" value="レ" checked="checked">&nbsp;&nbsp;
          ロ<input type="checkbox" class="checkbox_list" name="" value="ロ" checked="checked"></p>

          <p>ワ<input type="checkbox" class="checkbox_list" name="" value="ワ" checked="checked">&nbsp;&nbsp;
          井<input type="checkbox" class="checkbox_list" name="" value="井" checked="checked">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&thinsp;
          ヱ<input type="checkbox" class="checkbox_list" name="" value="ヱ" checked="checked">&nbsp;&nbsp;
          ヲ<input type="checkbox" class="checkbox_list" name="" value="ヲ" checked="checked"></p>

          <p>ン<input type="checkbox" class="checkbox_list" name="" value="ン" checked="checked"></p>
          
          <p>１<input type="checkbox" class="checkbox_list" name="" value="１" checked="checked">&nbsp;&nbsp;
            ２<input type="checkbox" class="checkbox_list" name="" value="２" checked="checked">&nbsp;&nbsp;
            ３<input type="checkbox" class="checkbox_list" name="" value="３" checked="checked">&nbsp;&nbsp;
            ４<input type="checkbox" class="checkbox_list" name="" value="４" checked="checked">&nbsp;&nbsp;
            ５<input type="checkbox" class="checkbox_list" name="" value="５" checked="checked"></p>
            <p>６<input type="checkbox" class="checkbox_list" name="" value="６" checked="checked">&nbsp;&nbsp;
            ７<input type="checkbox" class="checkbox_list" name="" value="７" checked="checked">&nbsp;&nbsp;
            ８<input type="checkbox" class="checkbox_list" name="" value="８" checked="checked">&nbsp;&nbsp;
            ９<input type="checkbox" class="checkbox_list" name="" value="９" checked="checked">&nbsp;&nbsp;
            ０<input type="checkbox" class="checkbox_list" name="" value="０" checked="checked"></p>
    </div>
          
    <div>
      <p>（<input type="checkbox" class="checkbox_list" name="" value="（" checked="checked"></p>
      <p>ー<input type="checkbox" class="checkbox_list" name="" value="ー" checked="checked"></p>
      <p>┗<input type="checkbox" class="checkbox_list" name="" value="┗" checked="checked"></p>
      <p>？<input type="checkbox" class="checkbox_list" name="" value="？" checked="checked"></p>
      <p>ゝ<input type="checkbox" class="checkbox_list" name="" value="ゝ" checked="checked"></p>
      <p>゛<input type="checkbox" class="checkbox_list" name="" value="゛" checked="checked"></p>
      <p>゜<input type="checkbox" class="checkbox_list" name="" value="゜" checked="checked"></p>
      <p>）<input type="checkbox" class="checkbox_list" name="" value="）" checked="checked"></p>
    </div>

        <br style="clear:both;">
    </section>
    </article>
    <!----- /main ----->
    <label>使い方→<a href="https://github.com/queezle-rekhyt/Morse_practice">こちら</a></label>
    <br>
    <a href="./tenmoji_ver/index2.html">10文字ver</a>
    </body>
    <script>



function teishi(){
  window.speechSynthesis.cancel();
}

//全選択のチェックボックス
let checkbox_all = document.querySelector("#checkbox_all");
//チェックボックスのリスト
let checkbox_list = document.querySelectorAll(".checkbox_list");

//全選択のチェックボックスイベント
checkbox_all.addEventListener('change', change_all);


function change_all() {

  //チェックされているか
  if (checkbox_all.checked) {
    //全て選択
    for (let i in checkbox_list) {
      if (checkbox_list.hasOwnProperty(i)) {
        checkbox_list[i].checked = true;
      }
    }
    
  } else {
    //全て解除
    for (let i in checkbox_list) {
      if (checkbox_list.hasOwnProperty(i)) {
        checkbox_list[i].checked = false;
      }
    }
    
  }

};


        const inputElem = document.getElementById('example'); // input要素
        const currentValueElem = document.getElementById('current-value'); // 埋め込む先のspan要素

        // 現在の値をspanに埋め込む関数
        const setCurrentValue = (val) => {
            currentValueElem.innerText = val*0.5+'行('+ val*10 +'文字)';
            var val =val*10;

            //チェックボックスに入ってるもの確認
            area = $('[class="checkbox_list"]:checked').map(function(){
            //$(this)でjQueryオブジェクトが取得できる。val()で値をvalue値を取得。
            return $(this).val();
            }).get();
            //mapの結果がjQueryオブジェクトの配列で返ってくるので、get()で生配列を取得する。
            //console.log(area);
            //['kantou','touhoku']のような形で取得できる。
            console.log(area.join(''));

            var S = area.join('');
            //var S="イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセスン（ー」？、゛゜）１２３４５６７８９０"
            var rand_str = 'ヌナヌナホレ\n';
            
            for ( var i = 1; i <= val; i++ ) {
                rand_str += S.charAt(Math.floor(Math.random() * S.length));
                if (i%20 == 0 && i!=val) {
                    rand_str += "゛゛\n";
                    if (i == 200){
                        rand_str += "　　　ホレメ２\n";
                    }
                }
            }

            var text = document.getElementsByTagName("textarea")[0];
            text.value=rand_str;

        
        }

        // inputイベント時に値をセットする関数
        const rangeOnChange = (e) =>{
        setCurrentValue(e.target.value);
        }

        function rensyu() {


        var text = document.getElementsByTagName("textarea")[0];

        text.value="ヌナヌナホレ\nイロハニホヘトチリヌルヲワカヨタレソツネ゛゛\nナラムウ井ノオクヤマケフコエテアサキユメ゛゛\nミシヱヒモセスン（ー┗？ゝ゛゜）１２３４゛゛\n５６７８９０イロハニホヘトチリヌルヲワカ゛゛\nヨタレソツネナラムウ井ノオクヤマケフコエ゛゛\nテアサキユメミシヱヒモセスン（ー┗？ゝ゛゛゛\n゜）１２３４５６７８９０イロハニホヘトチ゛゛\nリヌルヲワカヨタレソツネナラムウ井ノオク゛゛\nヤマケフコエテアサキユメミシヱヒモセスン゛゛\n（ー┗？ゝ゛゜）１２３４５６７８９０イロ";
        var textModMsg = document.getElementById('running');
        textModMsg.innerText = "";
        }

window.onload = () => {
        // スライダー変化時にイベントを発火
        inputElem.addEventListener('input', rangeOnChange);
        setCurrentValue(inputElem.value); // ページ読み込み時に値をセット
        rensyu();
        }

        function randome(){
          // スライダー変化時にイベントを発火
        inputElem.addEventListener('input', rangeOnChange);
        setCurrentValue(inputElem.value);
        var textModMsg = document.getElementById('running');
        textModMsg.innerText = "";
        }

m.onPlay = function () { 
    var txt = document.getElementById("textarea3").value;
    txt = txt.replace(/ヘ/g, 'ヘ　');
    txt = txt.replace(/ム/g, 'ム　');
    //゛゛/nでない「゛」を「゛　」に変換する
    txt = txt.replace(/゛　゛　\r?\n/g, '゛゛\n');
    m.setText(txt);
    console.log("再生内容:"+ txt)
    //document.getElementsByTagName("textarea")[0].value=txt

}

// document.getElementById("example").onchange = function() {
//   // onchangeイベントが発生した時の処理を記述する
// };
    </script>
</html>